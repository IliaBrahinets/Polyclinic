@{ ViewData["Title"] = "Doctor"; }

<script type='text/template' id='scheduletemplate'>
    <div class='container mb-3 mt-3'>
        <div class='clndr-controls row'>
            <h3 class='month col text-left'>
                <%= month %>
                    <%= year %>
            </h3>
            <div class = 'col row justify-content-end'>
                <div class='clndr-control-button clndr-previous-button col btn btn-primary mr-1 ml-1'>назад</div>
                <div class='clndr-control-button clndr-next-button col btn btn-primary mr-1 ml-1'>вперед</div>
            </div>
        </div>
    </div>
    <table class='clndr-table table table-bordered text-center' border='0' cellspacing='0' cellpadding='0'>
        <thead class='thead-light'>
            <tr class='header-days'>
                <% for(var i = 0; i < daysOfTheWeek.length; i++) { %>
                    <th class='header-day'>
                        <%= daysOfTheWeek[i] %>
                    </th>
                    <% } %>
            </tr>
        </thead>
        <tbody>
            <% for(var i = 0; i < numberOfRows; i++){ %>
                <tr>
                    <% for(var j = 0; j < 7; j++){ %>
                        <% var d = j + i * 7; %>
                            <td class='<%= days[d].classes %>'>

                                    <div class='day-contents text-left'>
                                            <span>
                                                <%= days[d].day %>
                                            </span>
                                    </div>
                                    <% _.each(days[d].events,function(event) { %>

                                    <div class='row day-inf pr-0 text-center'>
                                        <div class='relief-time col-sm pr-0 pl-0'><%= event.relief %></div>
                                        <div class='count col-sm pr-0 pl-0'><%= event.count %></div>
                                    </div>

                                    <% }); %>

                            </td>
                            <% } %>
                </tr>
                <% } %>
        </tbody>
    </table>
</script>

<div class = 'row' id = 'scheduleEdit'>
    <div class = 'col-lg-8'>
        <div id='schedule'></div>
    </div>

    <div class = 'row col-md'>
        <div class= 'col-sm mt-2' id = 'reliefsSetted'>
            <h4 class = 'text-center'>Назначенные</h3>
            <div>
                <div class="btn-group-vertical w-100" role="group">
                    <button type="button" class="btn btn-light">8:00-19:00</button>
                    <button type="button" class="btn btn-light">14:00-18:00</button>
                    <button type="button" class="btn btn-light">9:00-15:00</button>
                </div>
            </div>
        </div>
        <div class= 'col-sm mt-2' id ='reliefsAvaliable'>
            <h4 class = 'text-center'>Использованные</h3>
            <div>
                <div class="btn-group-vertical w-100" role="group">
                    <button type="button" class="btn btn-light">8:00-19:00</button>
                    <div class = 'text-center'>
                        <small class="relief-desc form-text text-muted">
                            Для окулистов
                        </small>
                    </div>
                    <button type="button" class="btn btn-light">14:00-18:00</button>
                    <button type="button" class="btn btn-light">10:00-14:00</button>
                    <button type="button" class="btn btn-light">9:00-13:00</button>
                    <button type="button" class="btn btn-light">9:00-15:00</button>
                </div>
            </div>
        </div>
    </div>
</div>

@section Styles {
     <link rel='stylesheet' href='~/css/Registrator/DoctorScheduleEdit/main.css' asp-append-version='true' />
}

@section Scripts {

    <script src='https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js'></script>

    <script src='~/lib/moment/min/moment-with-locales.min.js' asp-append-version='true'></script>

    <script src='~/lib/clndr/src/clndr.js' asp-append-version='true'></script>

    <script src='~/js/Registrator/DoctorScheduleEdit/main.js' asp-append-version='true'></script>

    }
